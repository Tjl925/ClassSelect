"use strict";const e=require("../../common/vendor.js"),i=require("../../uni_modules/uni-id-pages/common/store.js"),n=require("../../common/assets.js");e.Zs.importObject("uni-id-co"),e.Zs.database();const o={data:()=>({gridList:[],current:0,hasLogin:!1}),computed:{userInfo:()=>i.store.userInfo},onShow(){this.hasLogin=e.Zs.getCurrentUserInfo().tokenExpired>Date.now()},onLoad(){let e=[];e.push({index:1,title:"课程",route:"/pages/course/course"}),e.push({index:2,title:"资料",route:"/pages/material/material"}),e.push({index:3,title:"帖子",route:"/pages/community/community"}),e.push({index:4,title:"高分课程",route:"/pages/grid/hot/course"}),e.push({index:5,title:"精选资料",route:"/pages/grid/hot/material"}),e.push({index:6,title:"热门话题",route:"/pages/grid/hot/post"}),e.push({index:7,title:"管理发布",route:"/pages/grid/manage/manageUploaded"}),e.push({index:8,title:"查看反馈",route:"/uni_modules/uni-feedback/pages/opendb-feedback/list"}),e.push({index:9,title:"管理举报",route:"/uni_modules/uni-feedback/pages/opendb-report/list"}),this.gridList=e},methods:{checkadmin(){return console.log(this.userInfo),"admin"==this.userInfo.user_role?1:0},change(i,n){console.log(i),n<4?e.index.switchTab({url:i}):e.index.navigateTo({url:i})},onqueryload(e){},changeSwiper(e){this.current=e.detail.current},clickBannerItem(e){}}};if(!Array){(e.resolveComponent("unicloud-db")+e.resolveComponent("uni-grid-item")+e.resolveComponent("uni-grid"))()}Math||((()=>"../../node-modules/@dcloudio/uni-components/lib/unicloud-db/unicloud-db.js")+(()=>"../../uni_modules/uni-grid/components/uni-grid-item/uni-grid-item.js")+(()=>"../../uni_modules/uni-grid/components/uni-grid/uni-grid.js"))();const t=e._export_sfc(o,[["render",function(i,o,t,r,s,d){return{a:e.w((({data:i,loading:o,error:t,options:r},u,a)=>e.e({a:!(o||i.length)},o||i.length?{c:e.f(i,((i,n,o)=>({a:i.bannerfile.url,b:e.o((e=>d.clickBannerItem(i)),i._id),c:i._id}))),d:e.o(((...e)=>d.changeSwiper&&d.changeSwiper(...e))),e:s.current}:{b:n._imports_0$3},{f:a,g:u})),{name:"d",path:"a",vueId:"5a5563ce-0"}),b:e.sr("bannerdb","5a5563ce-0"),c:e.o(d.onqueryload),d:e.p({collection:"opendb-banner",field:"_id,bannerfile,open_url,title"}),e:e.f(s.gridList,((i,n,o)=>e.e({a:n<6||n>5&&d.checkadmin()},n<6||n>5&&d.checkadmin()?{b:"/static/grid/c"+(n+1)+".png",c:e.o((e=>d.change(i.route,n+1))),d:e.t(i.title),e:n,f:"5a5563ce-2-"+o+",5a5563ce-1",g:e.p({index:n})}:{}))),f:e.p({column:3,highlight:!0,showBorder:"false"})}}]]);wx.createPage(t);
